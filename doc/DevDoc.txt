********************************************************************************
DevDoc.txt: Development notes
Author: Fabrizio Branca

Legend:

FIX: fixes a bug
CHG: inform about changed items
ADD: added feature
RMV: removed Item
RFT: refactoring / code cleanup
********************************************************************************

v0.0.1dev: as of 28.04.2009
----------

+ (rk) FIX: tx_ptlist_view_list_itemList_csv::sendHeader(): fixed assertion position, changed default download type to 'I'
+ (mk) ADD: (class.tx_ptlist_list.php) Added method "resetSortingParameters()" for resetting all sorting states of sortable columns
+ (mk) CHG: Items of pdf-view are now converted to utf-8 before XML generation
+ (mk) ADD: Manual for PDF rendering
+ (mk) ADD: PDF rendering is now almost generic
  + (mk) ADD: Added pdf-column width to column description
  + (mk) CHG: Calculate column widths and column positions array by pt_list
  + (mk) CHG: Col pos and col width is scaled by view
+ (mk) ADD: PDF rendering configuration can now be done via TS
+ (mk) ADD: Generic smarty template for PDF rendering (for pt_xml2pdf)
+ (mk) ADD: Sample TS file for pdf rendering (typoscript/static/pdf/plugin.tx_ptlist_pdf_rendering_example.ts) (not tested yet)
+ (mk) ADD: Added TS configuration for CSV filename and type of file handling for generated CSV files
+ (mk) ADD: Added some documentation for generating PDF files with pt_list
+ (mk) ADD: Added TS configuration for PDF filename and type of file handling for generated PDF files 
+ (fb) RMV: tx_ptlist_controller_stringGeneric is obsolete as it can be done with the tx_ptlist_controller_string filter using "dataDescriptionIdentifier = *"
+ (fb) CHG: filterBox configuration has changed. Class is no longer a property, but the value of the main key
    Before:
    10 {
    	class < plugin.tx_ptlist.alias.filter_stringGeneric
    	filterIdentifier = genericSearch
    	label = Suche
    	dataDescriptionIdentifier = 
    }
    
    Now: 
    10 < plugin.tx_ptlist.alias.filter_stringGeneric
    10 {
    	filterIdentifier = genericSearch
    	label = Suche
    	dataDescriptionIdentifier = 
    }
+ (fb) ADD: dsn in listConfig and in renderUserFunction "fetchExternalData" can be a dsn string or a uid pointing to the tx_ptlist_databases table 
+ (fb) ADD: New table "tx_ptlist_databases"
+ (fb) CHG: renderUserFunctions only accepts numeric keys
+ (fb) CHG: tx_ptlist_renderer::cObj() renamed to tx_ptlist_renderer::cObject()
  + (fb) CHG: parameter for tx_ptlist_renderer::cObject() renamed from "cObj(.)" to "renderObj(.)"   

  
Configuration

== Extension configuration ==
plugin.tx_<condensedExtKey>.

== Controller configuration ==
plugin.tx_<condensedExtKey>.controller.<controllerName>.

== PrefixId-specific controller configuration ==
plugin.tx_<condensedExtKey>.controller.<controllerName>.<prefixId>.

== ListPrefix specific controller configuration ==
plugin.tx_<condensedExtKey>.controller.<controllerName>.<listPrefix>.

$this->conf = 
	[already existing property $this->conf]
	
		// tx_ptmvc_controllerFrontend->getConfiguration()
	[plugin.tx_<condensedExtKey>.controller.<controllerName>.] +
	[plugin.tx_<condensedExtKey>.controller.<controllerName>.<prefixId>.] +
	[flexFormSettings] +
	
		// tx_ptlist_controller_list->getConfiguration()
	[localConfiguration set in ->main() or ->__construct()] + 
	[plugin.tx_<condensedExtKey>.controller.<controllerName>.<listPrefix>.] +
	
		// tx_mvc_controller->prepare() 
	[localConfiguration set in ->main() or ->__construct()] 
	
	
Views 

plugin.tx_<condensedExtKey>.view.<viewName>.

$this->conf = 
	[plugin.tx_<condensedExtKey>.view.<viewName>.] +
	[<controllerConfig>.view.<viewName>.] 


TODO:
=====

- (mk) Make PDF rendering generic
  - (mk) Add pdf-column width to column description
  - (mk) Generate column widths and column positions array by pt_list
  - (mk) "Zoom" col pos and col width by PHP, if table is "too wide" if all columns are displayed
  - (mk) Will overflowing cells be overwritten by another cell, if background of "2nd" cell is set to white?!?
  - (mk) Implement "show" configuration for showing PDF cells or not showing them
- (mk) Write some documentation about all the stuff above